package com.sist.mybatis;
import java.util.List;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import com.sist.dao.BooksDAO;
import com.sist.vo.BooksVO;
/*
 	89~100page(핵심)
 	MyBatis => Basic (동적 SQL)
 	
 		XML
 		===
 		  MyBatis => Config(1)  , -mapper, Mapper (여러개)
 								  =========================
 								  테이블 갯수와 동일
 		Spring => 설정파일을 나눠서 처리 (분산 = 기능별 분산)						  
 */
public class MainClass {
	public static void main(String[] args) {
		// 1. 스프링에서 XML을 읽는다
		ApplicationContext app = 
				new ClassPathXmlApplicationContext("app.xml");
		// 등록된 클래스를 메모리 할당 => setXxx()에 값을 설정
		BooksDAO dao = (BooksDAO) app.getBean("dao");
		// 스프링에 등록된 DAO만 완전 세팅이 된다
		List<BooksVO> list=dao.booksListData();
		for(BooksVO vo:list) {
			System.out.println(vo.getTitle()+" "+vo.getPrice());
		}
		System.out.println("=================================================");
		list=dao.booksFindData("시작");
		for(BooksVO vo:list) {
			System.out.println(vo.getTitle()+" "+vo.getPrice());
		}	
	}

}
